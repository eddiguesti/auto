@tailwind base;
@tailwind components;
@tailwind utilities;

/* Paper texture grain using SVG noise */
body {
  font-family: 'Merriweather', serif;
  background-color: #f8f4eb;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
}

/* Paper grain overlay */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.4;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* Subtle paper fiber texture */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9998;
  opacity: 0.03;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(139, 115, 85, 0.1) 2px,
      rgba(139, 115, 85, 0.1) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(139, 115, 85, 0.05) 2px,
      rgba(139, 115, 85, 0.05) 4px
    );
}

/* Safe area support for iOS devices with notches */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* All text uses serif by default */
h1, h2, h3, h4, h5, h6,
p, span, div, label, button, a {
  font-family: 'Merriweather', serif;
}

/* Inputs and textareas */
input, textarea {
  font-family: 'Merriweather', serif;
}

.prose {
  font-family: 'Merriweather', serif;
}

/* Paper-style cards */
.paper-card {
  background: linear-gradient(135deg, #fdfbf7 0%, #f5f0e6 50%, #ebe5d9 100%);
  box-shadow:
    0 1px 3px rgba(139, 115, 85, 0.12),
    0 4px 6px rgba(139, 115, 85, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

/* Aged paper edges effect */
.aged-paper {
  position: relative;
}

.aged-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  box-shadow: inset 0 0 30px rgba(139, 115, 85, 0.1);
  pointer-events: none;
}

/* Custom scrollbar with paper feel */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #ebe5d9;
  border-left: 1px solid rgba(139, 115, 85, 0.2);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #a08060 0%, #8b7355 100%);
  border-radius: 5px;
  border: 2px solid #ebe5d9;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #8b7355 0%, #6b5a47 100%);
}

/* Text selection with sepia tint */
::selection {
  background: rgba(139, 115, 85, 0.3);
  color: #2c1810;
}

/* Smooth transitions for interactive elements */
button, a, input, textarea {
  transition: all 0.2s ease;
}

/* Drop cap style for story beginnings */
.drop-cap::first-letter {
  float: left;
  font-size: 3.5em;
  line-height: 0.8;
  padding-right: 0.1em;
  font-weight: 700;
  color: #8b7355;
}

/* Decorative divider */
.story-divider {
  display: flex;
  align-items: center;
  text-align: center;
  color: #8b7355;
  margin: 2rem 0;
}

.story-divider::before,
.story-divider::after {
  content: '';
  flex: 1;
  border-bottom: 1px solid #8b7355;
  opacity: 0.3;
}

.story-divider::before {
  margin-right: 1rem;
}

.story-divider::after {
  margin-left: 1rem;
}
